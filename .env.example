# Shopify App Environment Variables - Xeno FDE Assignment
# ========================================================
#
# DEPLOYMENT ARCHITECTURE:
# - Frontend (Next.js) → Vercel
# - Backend (Express) → Railway  
# - Database (PostgreSQL) → Railway
# - Redis (BullMQ queues) → Upstash or Railway
#
# SETUP STEPS:
# 1. Deploy PostgreSQL on Railway, get DATABASE_URL
# 2. Deploy Redis on Upstash, get REDIS_URL
# 3. Deploy this Express backend to Railway with these env vars
# 4. Deploy Next.js frontend to Vercel with NEXT_PUBLIC_API_URL pointing to Railway

# ===================
# Mode Configuration (Frontend Only - set in Vercel)
# ===================
# Set to 'true' for demo mode with mock data (no backend needed)
# Set to 'false' for production mode with real backend
NEXT_PUBLIC_DEMO_MODE=false

# ===================
# Server Configuration
# ===================
NODE_ENV=production
PORT=3000

# ===================
# Database Configuration (PostgreSQL - Railway)
# ===================
# Get this from Railway: railway.app → Your Project → PostgreSQL → Connect → Connection URL
DATABASE_URL="postgresql://postgres:password@containers-us-west-xxx.railway.app:5432/railway"

# ===================
# Redis Configuration (Upstash or Railway)
# ===================
# Get this from Upstash: console.upstash.com → Your Database → REST URL
# Or Railway: railway.app → Your Project → Redis → Connect
REDIS_URL="rediss://default:password@xxx.upstash.io:6379"

# ===================
# Shopify API Configuration
# ===================
# Get these from Shopify Partners Dashboard → Your App → API credentials
SHOPIFY_API_KEY="your_api_key_here"
SHOPIFY_API_SECRET="your_api_secret_here"
SHOPIFY_SCOPES="read_products,write_products,read_customers,write_customers,read_orders,read_inventory"
# This should be your Railway backend URL for Shopify OAuth callbacks
SHOPIFY_APP_URL="https://your-backend.up.railway.app"

# ===================
# Frontend URL (for CORS)
# ===================
# Your Vercel frontend URL - used for CORS whitelist
FRONTEND_URL="https://your-frontend.vercel.app"

# ===================
# Security Configuration
# ===================
# JWT Secret for authentication (min 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-min-32-characters-long"

# Encryption Key for sensitive data (exactly 64 hex characters = 32 bytes)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY="0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"

# ===================
# Optional: Error Monitoring
# ===================
# Get from sentry.io → Your Project → Settings → Client Keys
SENTRY_DSN="https://xxx@xxx.ingest.sentry.io/xxx"

# ===================
# Optional: Logging
# ===================
LOG_LEVEL="info"
